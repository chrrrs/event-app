(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{287:function(e,t,n){e.exports=n(528)},292:function(e,t,n){},294:function(e,t,n){},528:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(43),i=n.n(o),c=(n(292),n(28)),l=n(29),s=n(31),u=n(30),p=n(32),d=(n(294),n(547)),m=n(548),h=n(542),f=n(51),E=n(546),g=n(538),b=n(52),v=(n(530),n(62)),O=n(45),w=n(263),R=n.n(w),y=n(539),N=n(543),j=n(541),_=n(529),C=n(544),S=n(545),I=n(260),A=n(171),T=n(172);function F(){var e=Object(A.a)(["\n    padding: 20px;\n\n    &:after {\n        background-color: #0066FF;\n        padding: 20px;\n        border-radius: 100px;\n    }\n\n    ","\n\n    ","\n"]);return F=function(){return e},e}function P(){var e=Object(A.a)(["\n    max-width: 80vw;\n    margin: 0 auto;\n    padding-top: 50px;  \n"]);return P=function(){return e},e}var k=T.a.div(P()),x=T.a.div(F(),function(e){return e.create&&'\n        &:after {\n            content: "\ud83e\udd84";\n        }\n    '},function(e){return e.hello&&'\n        &:after {\n            content: "\ud83d\ude80";\n        }\n    '}),U=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{fluid:!0,borderless:!0,widths:"5",className:"navbar__fix"},r.a.createElement(S.a.Item,{name:"home"},r.a.createElement(g.a,{to:"/"},r.a.createElement(I.a,{name:"home",size:"large"}))),r.a.createElement(S.a.Item,{name:"point"},r.a.createElement(g.a,{to:"/login"},r.a.createElement(I.a,{name:"point",size:"large"}))),r.a.createElement(S.a.Item,null,r.a.createElement("div",{style:{position:"absolute",bottom:"25px"}},r.a.createElement(x,{create:!0}))),r.a.createElement(S.a.Item,{name:"trophy"},r.a.createElement(I.a,{name:"trophy",size:"large"})),r.a.createElement(S.a.Item,{name:"user"},r.a.createElement(I.a,{name:"user",size:"large"}))))}}]),t}(a.Component),D=n(169),L=n.n(D),V=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.event;return r.a.createElement("div",{className:"event__card__container"},r.a.createElement(L.a,{throttle:200,height:130},r.a.createElement("img",{className:"event__card__image",src:e.image,alt:""})),r.a.createElement("div",{className:"event__card__content__wrapper"},r.a.createElement("div",null,r.a.createElement("p",null,e.title),r.a.createElement("p",null,e.content)),r.a.createElement("div",{className:"sub__info__wrapper"},r.a.createElement("div",null,r.a.createElement("p",null,"Date"),r.a.createElement("p",null,"fill")),r.a.createElement("div",null,r.a.createElement("p",null,"Category"),r.a.createElement("p",null,"sport")),r.a.createElement("div",null,r.a.createElement("p",null,"Location"),r.a.createElement("p",null,"Odense C")))))}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",content:"",file:""},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.id,e.target.value))},n.handleFile=function(e){n.setState({file:e.target.files[0]})},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.content,o=t.file;a.length>0&&r.length>0&&""!==o&&(n.props.createEvent(n.state),n.setState({title:"",content:"",file:""}))},n.deleteEventHandler=function(e){n.props.deleteEvent(e)},n.handleParticipant=function(e){n.props.addParticipant(e)},n.removeParticipation=function(e){n.props.removeParticipant(e)},n.handleSearch=function(){console.log("search conducted")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth;e.profile;return t.uid?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(N.a,{onSubmit:this.handleSearch},r.a.createElement(N.a.Field,null,r.a.createElement(j.a,{type:"search",icon:"search"})))),r.a.createElement(y.a,{fluid:!0},r.a.createElement(R.a,{infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1,lazyLoad:!0,centerMode:!0},r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement(_.a,{src:"https://images.pexels.com/photos/1443657/pexels-photo-1443657.jpeg?auto=compress&cs=tinysrgb&h=650&w=940",alt:"",srcSet:""}))),r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement(_.a,{src:"https://images.pexels.com/photos/295047/pexels-photo-295047.png?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",alt:"",srcSet:""}))))),r.a.createElement(y.a,{className:"view__container"},r.a.createElement("div",null,r.a.createElement("h3",null,"Begivenheder"),this.props.projects&&this.props.projects.map(function(e){return r.a.createElement(V,{key:e.id,event:e})})),r.a.createElement(g.a,{to:"/login"},r.a.createElement(C.a,{onClick:this.props.signOut},"Sign Out"))),r.a.createElement(U,null)):r.a.createElement(E.a,{to:"/login"})}}]),t}(a.Component),W=Object(O.d)(Object(b.b)(function(e){return{projects:e.firestore.ordered.events,auth:e.firebase.auth,profile:e.firebase.profile}},function(e){return{createEvent:function(t){return e(function(e){return function(t,n,a){var r=a.getFirebase,o=(0,a.getFirestore)(),i=n().firebase.profile,c=n().firebase.auth.uid,l=r().storage().ref().child("images/".concat(e.file.name)),s=e.file;l.put(s).then(function(e){return e.ref.getDownloadURL()}).then(function(n){o.collection("events").add({title:e.title,content:e.content,image:n,authorFirstName:i.firstName,authorLastName:i.lastName,authorId:c,createdAt:new Date,participants:[]}).then(function(){t({type:"CREATE_EVENT",event:e})}).catch(function(e){t({type:"CREATE_EVENT_ERROR",err:e})})})}}(t))},deleteEvent:function(t){return e(function(e){return function(t,n,a){(0,a.getFirestore)().collection("events").doc(e).delete().then(function(){t({type:"DELETE_EVENT",event:e})}).catch(function(e){t({type:"DELETE_EVENT_ERROR",err:e})})}}(t))},addParticipant:function(t){return e(function(e){return function(t,n,a){var r=(0,a.getFirestore)(),o=n().firebase.profile,i=n().firebase.auth.uid,c={userFirstName:o.firstName,userLastName:o.lastName,userId:i};r.collection("events").doc(e).update({participants:r.FieldValue.arrayUnion(c)}).then(function(){t({type:"ADD_PARTICIPANT",profile:o})}).catch(function(e){t({type:"ADD_PARTICIPANT_ERROR",err:e})})}}(t))},removeParticipant:function(t){return e(function(e){return function(t,n,a){var r=(0,a.getFirestore)(),o=n().firebase.profile,i=n().firebase.auth.uid,c={userFirstName:o.firstName,userLastName:o.lastName,userId:i};r.collection("events").doc(e).update({participants:r.FieldValue.arrayRemove(c)}).then(function(){t({type:"REMOVE_PARTICIPANT",profile:o})}).catch(function(e){t({type:"REMOVE_PARTICIPANT_ERROR",err:e})})}}(t))},signOut:function(){return e(function(e,t,n){(0,n.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}}),Object(v.firestoreConnect)([{collection:"events",orderBy:["createdAt","desc"]}]))(z),G=n(549),B=n(259),M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.signIn(n.state),n.props.history.push("/")},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(E.a,{to:"/"}):r.a.createElement(k,null,r.a.createElement(N.a,{onSubmit:this.handleSubmit,size:"big"},r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",id:"email",placeholder:"email",onChange:this.handleChange})),r.a.createElement(N.a.Field,{size:"big"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",id:"password",placeholder:"password",onChange:this.handleChange})),r.a.createElement(C.a,{size:"big"},"Login"),t?r.a.createElement("span",{style:{color:"red"}},r.a.createElement(B.a,{color:"red"},t)):null,r.a.createElement("div",null,r.a.createElement(g.a,{to:"/signup"},"Not a user, click here to sign up."))))}}]),t}(a.Component),J=Object(b.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((n=t,function(e,t,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(n.email,n.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var n}}})(Object(G.a)(M)),H=n(540),K=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:"",checked:!1},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),!0===n.state.checked&&n.props.signUp(n.state)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.auth,a=t.authError;return n.uid?r.a.createElement(E.a,{to:"/"}):r.a.createElement(k,null,r.a.createElement(N.a,{onSubmit:this.handleSubmit,size:"big"},r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",id:"email",placeholder:"Email",onChange:this.handleChange})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"text",id:"firstName",placeholder:"firstName",onChange:this.handleChange})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",placeholder:"lastName",onChange:this.handleChange})),r.a.createElement(N.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",id:"password",placeholder:"password",onChange:this.handleChange})),r.a.createElement(N.a.Field,null,r.a.createElement(H.a,{onClick:function(){e.setState({checked:!e.state.checked})},label:"I agree to the Terms and Conditions"})," ",r.a.createElement("a",{href:"/"},"read here")),r.a.createElement(C.a,{size:"big"},"signup")),a?r.a.createElement("p",{style:{color:"red"}},a):null)}}]),t}(a.Component),$=Object(b.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(t){return e(function(e){return function(t,n,a){var r=a.getFirebase,o=a.getFirestore,i=r(),c=o();i.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],points:0})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(K),q=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:W}),r.a.createElement(h.a,{exact:!0,path:"/login",component:J}),r.a.createElement(h.a,{exact:!0,path:"/signup",component:$}))))}}]),t}(a.Component),Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Y=n(94),Z={authError:null},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(Y.a)({},e,{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(Y.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(Y.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup failed"),Object(Y.a)({},e,{authError:t.err.message});default:return e}},te={projects:[{id:"1",title:"test 1",content:"text for test 1"},{id:"2",title:"test 2",content:"text for test 2"},{id:"3",title:"test 3",content:"text for test 3"}]},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_EVENT":return console.log("created event",t.event),e;case"CREATE_EVENT_ERROR":return console.log("create project error",t.err),e;case"DELETE_EVENT":return console.log("deleted event",t.event),e;case"DELETE_EVENT_ERROR":return console.log("delete event error",t.err),e;case"ADD_PARTICIPANT":return console.log("added participant",t.event),e;case"ADD_PARTICIPANT_ERROR":return console.log("added participant error",t.err),e;case"REMOVE_PARTICIPANT":return console.log("removed participant",t.event),e;case"REMOVE_PARTICIPANT_ERROR":return console.log("removed participant error",t.err),e;default:return e}},ae=n(93),re=Object(O.c)({auth:ee,event:ne,firestore:ae.firestoreReducer,firebase:v.firebaseReducer}),oe=n(275),ie=n(95),ce=n.n(ie);n(518),n(523);ce.a.initializeApp({apiKey:"AIzaSyBydd68ex9-vN-aRT9IM4huWE_wDuWn28o",authDomain:"event-webapp-bc94d.firebaseapp.com",databaseURL:"https://event-webapp-bc94d.firebaseio.com",projectId:"event-webapp-bc94d",storageBucket:"event-webapp-bc94d.appspot.com",messagingSenderId:"552374337223"}),ce.a.firestore().settings({timestampsInSnapshots:!0}),ce.a.firestore().enablePersistence();var le=ce.a,se=(n(525),Object(O.e)(re,Object(O.d)(Object(O.a)(oe.a.withExtraArgument({getFirebase:v.getFirebase,getFirestore:ae.getFirestore})),Object(ae.reduxFirestore)(le),Object(v.reactReduxFirebase)(le,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0}))));se.firebaseAuthIsReady.then(function(){i.a.render(r.a.createElement(b.a,{store:se},r.a.createElement(q,null)),document.getElementById("root"))}),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Q?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):X(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):X(t,e)})}}()}},[[287,2,1]]]);
//# sourceMappingURL=main.0964b763.chunk.js.map